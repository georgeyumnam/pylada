

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Process Module &mdash; Pylada 1.0 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="top" title="Pylada 1.0 documentation" href="../index.html" />
    <link rel="up" title="Python API" href="../pyapi.html" />
    <link rel="next" title="Abstract base-class" href="process/process.html" />
    <link rel="prev" title="Forwarding dictionary" href="jobfolder/forwardingdict.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="process/process.html" title="Abstract base-class"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="jobfolder/forwardingdict.html" title="Forwarding dictionary"
             accesskey="P">previous</a> |</li>
        <li><a href="../index.html">Pylada 1.0 documentation</a> &raquo;</li>
          <li><a href="../pyapi.html" accesskey="U">Python API</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="module-pylada.process">
<span id="process-module"></span><h1>Process Module<a class="headerlink" href="#module-pylada.process" title="Permalink to this headline">¶</a></h1>
<p>Manages external processes and jobfolders.</p>
<p>This sub-module provides an abstraction between resources which
purports to launch external programs, say a
<a class="reference internal" href="vasp/functional.html#pylada.vasp.functional.Vasp" title="pylada.vasp.functional.Vasp"><tt class="xref py py-class docutils literal"><span class="pre">Vasp</span></tt></a> instance, and the actual
program. There are two main issues the module attempts to resolve:</p>
<blockquote>
<div><ul class="simple">
<li>an interface which hides the details of launching mpi jobs on one
or another super-computer</li>
<li>an interface to launch different calculations in parallel but from
a single actual system process, e.g. asynchronous management of
different mpi-processes</li>
</ul>
</div></blockquote>
<p>The first point above is easy to understand: some machines use <a class="reference external" href="http://www.open-mpi.org/">openmpi</a>
as is, others provide different flavors of mpich, and Cray use their
own crap pseudo-proprietary software. It&#8217;s best to keep all those
details in one place. The second point is to make it easy to launch
different calculations simultaneously. It provides an additional layer
for parallelization, in addition to the one provided below at the
application level by mpich and friends,  and above it by the queuing
system of a particular super-computer.</p>
<p>The module is organized around <a class="reference internal" href="process/process.html#pylada.process.process.Process" title="pylada.process.process.Process"><tt class="xref py py-class docutils literal"><span class="pre">Process</span></tt></a> and its
derived classes. Instances of these classes are meant to be used as
follows:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">process</span> <span class="o">=</span> <span class="n">SomeProcess</span><span class="p">()</span>
<span class="n">process</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="n">comm</span><span class="p">)</span>
<span class="c"># do something else</span>
<span class="k">try</span><span class="p">:</span>
 <span class="k">if</span> <span class="n">process</span><span class="o">.</span><span class="n">poll</span><span class="p">():</span>
   <span class="c"># process did finish.</span>
<span class="k">except</span> <span class="n">Fail</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> 
  <span class="c"># an error occured</span>
</pre></div>
</div>
<p>The first two lines initialize and start a process of some kind, which
could be as simple as lauching an external <a class="reference internal" href="process/program.html#pylada.process.program.ProgramProcess" title="pylada.process.program.ProgramProcess"><tt class="xref py py-class docutils literal"><span class="pre">program</span></tt></a> or as complicated as lauching different jobs
from a <a class="reference internal" href="jobfolder/jobfolder.html#pylada.jobfolder.jobfolder.JobFolder" title="pylada.jobfolder.jobfolder.JobFolder"><tt class="xref py py-class docutils literal"><span class="pre">JobFolder</span></tt></a> instance in
<a class="reference internal" href="process/jobfolder.html#pylada.process.jobfolder.JobFolderProcess" title="pylada.process.jobfolder.JobFolderProcess"><tt class="xref py py-class docutils literal"><span class="pre">parallel</span></tt></a>. The rest of the
snippet checks whether the process is finished. If it finished
correctly, then <a class="reference internal" href="process/process.html#pylada.process.process.Process.poll" title="pylada.process.process.Process.poll"><tt class="xref py py-meth docutils literal"><span class="pre">poll()</span></tt></a> (rather, the overloaded
functions in the derived class) returns True. Otherwise, it throws
<a class="reference internal" href="#pylada.process.Fail" title="pylada.process.Fail"><tt class="xref py py-class docutils literal"><span class="pre">Fail</span></tt></a>.</p>
<p>It is expected that processes will be returned (or yielded) by
functionals, and then further managed by the script of interest. As such,
the initialization of a process will depend upon the actual functional,
and what it purports to do. However, it should be possible from then on
to manage the process in a standard way. This standard interface is
described by the abstract base class <a class="reference internal" href="process/process.html#pylada.process.process.Process" title="pylada.process.process.Process"><tt class="xref py py-class docutils literal"><span class="pre">Process</span></tt></a>.</p>
<div class="section" id="process-types">
<h2>Process Types<a class="headerlink" href="#process-types" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="process/process.html">Abstract base-class</a></li>
<li class="toctree-l1"><a class="reference internal" href="process/program.html">Execution of an external program</a></li>
<li class="toctree-l1"><a class="reference internal" href="process/iterator.html">Sequential execution of a generator of processes</a></li>
<li class="toctree-l1"><a class="reference internal" href="process/call.html">Execution of a callable</a></li>
<li class="toctree-l1"><a class="reference internal" href="process/jobfolder.html">Parallel execution of a job-folder</a></li>
<li class="toctree-l1"><a class="reference internal" href="process/pool.html">Parallel execution of a job-folder with per-folder numbers of processors</a></li>
</ul>
</div>
</div>
<div class="section" id="exceptions">
<h2>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="pylada.process.ProcessError">
<em class="property">exception </em><tt class="descclassname">pylada.process.</tt><tt class="descname">ProcessError</tt><a class="reference internal" href="../_modules/pylada/process.html#ProcessError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylada.process.ProcessError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="error.html#pylada.error.root" title="pylada.error.root"><tt class="xref py py-class docutils literal"><span class="pre">pylada.error.root</span></tt></a></p>
<p>Root of special exceptions issued by process module.</p>
</dd></dl>

<dl class="exception">
<dt id="pylada.process.Fail">
<em class="property">exception </em><tt class="descclassname">pylada.process.</tt><tt class="descname">Fail</tt><a class="reference internal" href="../_modules/pylada/process.html#Fail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylada.process.Fail" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pylada.process.ProcessError" title="pylada.process.ProcessError"><tt class="xref py py-class docutils literal"><span class="pre">pylada.process.ProcessError</span></tt></a></p>
<p>Process failed to run successfully.</p>
</dd></dl>

<dl class="exception">
<dt id="pylada.process.AlreadyStarted">
<em class="property">exception </em><tt class="descclassname">pylada.process.</tt><tt class="descname">AlreadyStarted</tt><a class="reference internal" href="../_modules/pylada/process.html#AlreadyStarted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylada.process.AlreadyStarted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pylada.process.ProcessError" title="pylada.process.ProcessError"><tt class="xref py py-class docutils literal"><span class="pre">pylada.process.ProcessError</span></tt></a></p>
<p>Process already started.</p>
<p>Thrown when <a class="reference internal" href="process/process.html#pylada.process.process.Process.start" title="pylada.process.process.Process.start"><tt class="xref py py-meth docutils literal"><span class="pre">start()</span></tt></a> or its overloaded friend is
called for a second time.</p>
</dd></dl>

<dl class="exception">
<dt id="pylada.process.NotStarted">
<em class="property">exception </em><tt class="descclassname">pylada.process.</tt><tt class="descname">NotStarted</tt><a class="reference internal" href="../_modules/pylada/process.html#NotStarted"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylada.process.NotStarted" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#pylada.process.ProcessError" title="pylada.process.ProcessError"><tt class="xref py py-class docutils literal"><span class="pre">pylada.process.ProcessError</span></tt></a></p>
<p>Process was never started.</p>
<p>Thrown when <a class="reference internal" href="process/process.html#pylada.process.process.Process.poll" title="pylada.process.process.Process.poll"><tt class="xref py py-meth docutils literal"><span class="pre">poll()</span></tt></a> or its overloaded friend is
called before the process is started.</p>
</dd></dl>

</div>
<div class="section" id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="pylada.process.which">
<tt class="descclassname">pylada.process.</tt><tt class="descname">which</tt><big>(</big><em>program</em><big>)</big><a class="reference internal" href="../_modules/pylada/process.html#which"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#pylada.process.which" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets location of program by mimicking bash which command.</p>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Process Module</a><ul>
<li><a class="reference internal" href="#process-types">Process Types</a><ul>
</ul>
</li>
<li><a class="reference internal" href="#exceptions">Exceptions</a></li>
<li><a class="reference internal" href="#functions">Functions</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="jobfolder/forwardingdict.html"
                        title="previous chapter">Forwarding dictionary</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="process/process.html"
                        title="next chapter">Abstract base-class</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/pyapi/process.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="process/process.html" title="Abstract base-class"
             >next</a> |</li>
        <li class="right" >
          <a href="jobfolder/forwardingdict.html" title="Forwarding dictionary"
             >previous</a> |</li>
        <li><a href="../index.html">Pylada 1.0 documentation</a> &raquo;</li>
          <li><a href="../pyapi.html" >Python API</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2012, Mayeul d&#39;Avezac.
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.1.3.
    </div>
  </body>
</html>
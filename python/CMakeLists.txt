set(PYLADA_HEADERS debug.hpp misc.hpp numpy_types.h std_map.hpp 
                   std_map.impl.hpp std_vector.hpp xml.hpp)
set(PYLADA_PY mpi.py record.py)

if(NOT noinstall_headers)
  install(FILES ${PYLADA_HEADERS} DESTINATION include/LaDa/python
                PERMISSIONS ${PERMISSIONS})
endif(NOT noinstall_headers)

set(do_use_mpi "False")
if(MPI_FOUND)
  set(do_use_mpi "True")
endif(MPI_FOUND)

set(with_ipython "False")
set(with_ladabase "False")
if(ipython_interface)
  set(with_ipython "True")
endif(ipython_interface)


set(which_packages "'math', 'opt', 'crystal', 'physics', 'periodic_table'")
if(pcm_functional) 
  set(which_packages "${which_packages}, 'pcm'")
endif(pcm_functional) 
if(ce_functional) 
  set(which_packages "${which_packages}, 'ce'")
endif(ce_functional) 
if(vasp_functional) 
  set(which_packages "${which_packages}, 'vasp'")
endif(vasp_functional) 
if(escan_functional) 
  set(which_packages "${which_packages}, 'escan'")
endif(escan_functional) 
if(vff_functional) 
  set(which_packages "${which_packages}, 'vff'")
endif(vff_functional) 
# if(separables_functional) 
#   set(which_packages "${which_packages}, separables")
# endif(separables_functional) 
# if(atompot_functional) 
#   set(which_packages "${which_packages}, atompot")
# endif(atompot_functional) 
if(enum_package) 
  set(which_packages "${which_packages}, 'enumeration'")
endif(enum_package) 
if(minimizer_libs) 
  set(which_packages "${which_packages}, 'minimizer'")
endif(minimizer_libs) 
if(jobs_package) 
  set(which_packages "${which_packages}, 'jobs'")
endif(jobs_package) 
if(ga_package) 
  set(which_packages "${which_packages}, 'ga'")
endif(ga_package) 
if(ladabase_package) 
  set(with_ladabase "True")
  set(which_packages "${which_packages}, 'ladabase'")
endif(ladabase_package) 
configure_file (
 "${PROJECT_SOURCE_DIR}/python/__init__.in.py"
 "${PROJECT_BINARY_DIR}/python/__init__.py"
)
install(FILES ${PROJECT_BINARY_DIR}/python/__init__.py DESTINATION ${CMAKE_PYINSTALL_PREFIX}/lada
                PERMISSIONS ${PERMISSIONS})
install(FILES ${PYLADA_PY} DESTINATION ${CMAKE_PYINSTALL_PREFIX}/lada
                PERMISSIONS ${PERMISSIONS})

